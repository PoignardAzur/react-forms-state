{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ada47adb3ff26f6866a1","webpack:///external {\"root\":\"immutable\",\"commonjs2\":\"immutable\",\"commonjs\":\"immutable\",\"amd\":\"immutable\"}","webpack:///./lib/StateValueHelpers.js","webpack:///./node_modules/process/browser.js","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external {\"root\":\"Rx\",\"commonjs2\":\"rxjs\",\"commonjs\":\"rxjs\",\"amd\":\"rxjs\"}","webpack:///./lib/FormEvents.js","webpack:///./lib/ValidationHelpers.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/fbjs/lib/emptyFunction.js","webpack:///./node_modules/fbjs/lib/invariant.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./lib/StatePathHelpers.js","webpack:///./lib/StateDispatcher.js","webpack:///./lib/FormElement.js","webpack:///./node_modules/fbjs/lib/warning.js","webpack:///./lib/index.js","webpack:///./lib/Form.js","webpack:///./lib/FormWatcher.js","webpack:///./node_modules/prop-types/index.js","webpack:///./node_modules/prop-types/factoryWithTypeCheckers.js","webpack:///./node_modules/prop-types/checkPropTypes.js","webpack:///./node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./lib/ValidationComposition.js","webpack:///./lib/FormModel.js"],"names":["getJavascriptEntity","getImmutableEntity","getValue","setValue","obj","toJS","state","path","valuePath","reduce","red","value","i","undefined","immutState","global","process","env","FORMALIZR_ENV","console","log","newState","setIn","createValueChangeEvent","createInitialChangeEvent","createSubmitChangeEvent","createValidationFailedEvent","VALUE_CHANGE_EVENT_TYPE","INITIAL_CHANGE_EVENT_TYPE","SUBMIT_EVENT_TYPE","VALIDATION_FAILED_EVENT_TYPE","newValue","statePath","validation","type","newInitial","isValid","getErrorText","infos","Object","keys","length","setErrorForFieldAt","error","removeErrorForFieldAt","Validation","getErrorForFieldAt","getImmutPath","getNewPath","split","map","isNaN","p","parseInt","name","isArray","index","findIndex","id","StateDispatcher","convertIn","v","props","convertOut","WrappedComponent","Dispatcher","handlers","valueChangeObs","convertedValue","e","assign","context","attachToForm","getUncontrolledState","subscription","filter","do","subscribe","next","dispatchUncontrolledValues","unsubscribe","event","forEach","oldValue","set","rootValueChangeObs","onStateChange","convertedInParentValue","completeValue","Array","concat","update","list","item","onChange","addHandler","getHandler","setHandler","get","bind","Component","defaultProps","Observable","never","propTypes","PropTypes","any","func","childContextTypes","contextTypes","root","getUncontrolledValue","child","setUncontrolledValue","FormElement","NeverObservable","validate","FormElementHOC","FormElementContainer","configureObs","currentStatePath","getCurrentStatePath","elementName","parentValueChangeObs","getAssignedObs","__debug","warn","getHumanReadableIdentifier","getCompleteCurrentStatePath","startsWith","getNestedValidation","isControlled","disconnectFromFormController","setState","connectToUncontrolledHandlers","connectToFormController","nextProps","nextContext","completeStatePath","getNewPathPart","getNewCompletePathPart","uncontrolled","getStatePathToDispatch","sp","elem","string","bool","default","notNull","notUndefined","notEmpty","composeValidation","required","isTrue","maxLength","lessThan","convertConversionModelToConversionJobs","validateModel","Form","applyControl","checkIfModified","immutableInitial","FormHOC","WrappedComponentWithDispatcher","FormContainer","subject","Subject","scan","acc","newValidation","controlledNewState","_getInitialValue","share","_submit","publishBehavior","refCount","rootDispatcherGetter","oldInitial","formInputValue","mergeDeep","_mergeValues","onSubmit","onValidationFailed","getter","FormWatcher","watchPath","getWatchedPath","Error","selectObs","connectsToFormController","children","watchedValidation","watchedValue","watchedStatePath","errorString","validateNotNull","validateNotUndefined","validateNotEmpty","validates","validateValue","validated","validateTrue","max","validateMaxLength","accessor1","accessor2","validateLessThan","value1","getIn","value2","model","currentInPath","parentOutPath","currentNodeOutPath","out","out_path","currentOutPath","jobs","of","in","includes","nodeKey","childNode","childInPath","convertInModelValue","immutableValue","groupCollapsed","reduceRight","job","inPath","outPath","notConvertedValue","inValue","newRed","groupEnd","convertOutModelValue","outValue","validateState","wholeValidation","fieldValue"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA,+C;;;;;;;;ACAA;;;;;;;;QAMgBA,mB,GAAAA,mB;QAKAC,kB,GAAAA,kB;QAMAC,Q,GAAAA,Q;QAqBAC,Q,GAAAA,Q;;AAnChB;;AACA;;AAEO,SAASH,mBAAT,CAA6BI,GAA7B,EAA4C;AACjD,MAAIA,OAAO,QAAOA,GAAP,yCAAOA,GAAP,MAAc,QAArB,IAAiCA,IAAIC,IAAzC,EAA+C,OAAOD,IAAIC,IAAJ,EAAP,CAA/C,KACK,OAAOD,GAAP;AACN;;AAEM,SAASH,kBAAT,CAA4BG,GAA5B,EAA2C;AAChD,MAAIA,OAAO,QAAOA,GAAP,yCAAOA,GAAP,MAAc,QAArB,IAAiCA,IAAIC,IAAzC,EAA+C,OAAOD,GAAP,CAA/C,KACK,IAAI,QAAOA,GAAP,yCAAOA,GAAP,MAAc,QAAlB,EAA4B,OAAO,uBAAOA,GAAP,CAAP,CAA5B,KACA,OAAOA,GAAP;AACN;;AAEM,SAASF,QAAT,CAAkBI,KAAlB,EAAiCC,IAAjC,EAAoD;AACzD,MAAIA,QAAQ,EAAZ,EACE,OAAOP,oBAAoBM,KAApB,CAAP,CADF,KAEK;AACH,QAAI,QAAOA,KAAP,yCAAOA,KAAP,MAAgB,QAApB,EAA8B;AAC5B,UAAIE,YAAY,oCAAaD,IAAb,CAAhB;AACA,aAAOC,UAAUC,MAAV,CACL,UAACC,GAAD,EAAMC,KAAN,EAAaC,CAAb,EAAmB;AACjB,YAAIF,QAAQG,SAAR,IAAqBH,QAAQ,IAAjC,EAAuC;AACrC,iBAAOA,IAAIC,KAAJ,CAAP;AACD,SAFD,MAEO;AACL,iBAAOD,GAAP;AACD;AACF,OAPI,EAQLJ,KARK,CAAP;AAUD,KAZD,MAaE,OAAOA,KAAP;AACH;AACF;;AAEM,SAASH,QAAT,CAAkBG,KAAlB,EAAkCC,IAAlC,EAAgDI,KAAhD,EAAoE;AACzE,MAAIJ,QAAQ,EAAZ,EACE,OAAOI,KAAP,CADF,KAEK;AACH,QAAIG,aAAa,uBAAOR,KAAP,CAAjB;AACA,QACES,OAAOC,OAAP,IACAD,OAAOC,OAAP,CAAeC,GADf,IAEAF,OAAOC,OAAP,CAAeC,GAAf,CAAmBC,aAAnB,KAAqC,OAHvC,EAKEC,QAAQC,GAAR,CAAYd,KAAZ,EAAmBC,IAAnB,EAAyBI,KAAzB,EAAgCG,UAAhC;AACF,QAAMO,WAAWP,aACbA,WAAWQ,KAAX,CAAiB,oCAAaf,IAAb,CAAjB,EAAqCI,KAArC,EAA4CN,IAA5C,EADa,GAEbS,UAFJ;AAGA,WAAOO,QAAP;AACD;AACF,C;;;;;;;ACtDD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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ACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,gCAAgC;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;AC/fA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gGAAgG;AAChG;AACA,SAAS;AACT;AACA;AACA,gGAAgG;AAChG;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AAC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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"immutable\"), require(\"react\"), require(\"rxjs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"immutable\", \"react\", \"rxjs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactFormsState\"] = factory(require(\"immutable\"), require(\"react\"), require(\"rxjs\"));\n\telse\n\t\troot[\"ReactFormsState\"] = factory(root[\"immutable\"], root[\"React\"], root[\"Rx\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ada47adb3ff26f6866a1","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"immutable\",\"commonjs2\":\"immutable\",\"commonjs\":\"immutable\",\"amd\":\"immutable\"}\n// module id = 0\n// module chunks = 0","\"use babel\";\r\n// @flow\r\n\r\nimport { fromJS } from \"immutable\";\r\nimport { getImmutPath } from \"./StatePathHelpers\";\r\n\r\nexport function getJavascriptEntity(obj: any): any {\r\n  if (obj && typeof obj == \"object\" && obj.toJS) return obj.toJS();\r\n  else return obj;\r\n}\r\n\r\nexport function getImmutableEntity(obj: any): any {\r\n  if (obj && typeof obj == \"object\" && obj.toJS) return obj;\r\n  else if (typeof obj == \"object\") return fromJS(obj);\r\n  else return obj;\r\n}\r\n\r\nexport function getValue(state: Object, path: string): any {\r\n  if (path == \"\")\r\n    return getJavascriptEntity(state);\r\n  else {\r\n    if (typeof state == \"object\") {\r\n      let valuePath = getImmutPath(path);\r\n      return valuePath.reduce(\r\n        (red, value, i) => {\r\n          if (red !== undefined && red !== null) {\r\n            return red[value];\r\n          } else {\r\n            return red;\r\n          }\r\n        },\r\n        state,\r\n      );\r\n    } else\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function setValue(state?: Object, path: string, value: any): Object {\r\n  if (path == \"\")\r\n    return value;\r\n  else {\r\n    let immutState = fromJS(state);\r\n    if (\r\n      global.process &&\r\n      global.process.env &&\r\n      global.process.env.FORMALIZR_ENV === \"DEBUG\"\r\n    )\r\n      console.log(state, path, value, immutState);\r\n    const newState = immutState\r\n      ? immutState.setIn(getImmutPath(path), value).toJS()\r\n      : immutState;\r\n    return newState;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/StateValueHelpers.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 2\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 3\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"Rx\",\"commonjs2\":\"rxjs\",\"commonjs\":\"rxjs\",\"amd\":\"rxjs\"}\n// module id = 4\n// module chunks = 0","\"use babel\";\r\n// @flow\r\n\r\nimport { Validation } from \"./ValidationHelpers\";\r\n\r\nexport const VALUE_CHANGE_EVENT_TYPE = \"VALUE_CHANGE\";\r\nexport const INITIAL_CHANGE_EVENT_TYPE = \"INITIAL_CHANGE\";\r\nexport const SUBMIT_EVENT_TYPE = \"SUBMIT\";\r\nexport const VALIDATION_FAILED_EVENT_TYPE = \"VALIDATION_FAILED\";\r\n\r\nexport type ValueChangeEventType = {\r\n  type: typeof VALUE_CHANGE_EVENT_TYPE,\r\n  newValue: any,\r\n  statePath: string,\r\n  validation: Validation,\r\n};\r\n\r\nexport function createValueChangeEvent(\r\n  newValue: any,\r\n  statePath: string,\r\n  validation: Validation,\r\n): ValueChangeEventType {\r\n  return {\r\n    type: VALUE_CHANGE_EVENT_TYPE,\r\n    newValue,\r\n    statePath,\r\n    validation,\r\n  };\r\n}\r\n\r\nexport type InitialChangeEventType = {\r\n  type: typeof INITIAL_CHANGE_EVENT_TYPE,\r\n  newValue: any,\r\n  validation?: Validation,\r\n};\r\n\r\nexport function createInitialChangeEvent(\r\n  newInitial: any,\r\n): InitialChangeEventType {\r\n  return {\r\n    type: INITIAL_CHANGE_EVENT_TYPE,\r\n    newValue: newInitial,\r\n  };\r\n}\r\n\r\nexport type SubmitChangeEventType = {\r\n  type: typeof SUBMIT_EVENT_TYPE,\r\n};\r\n\r\nexport function createSubmitChangeEvent(): SubmitChangeEventType {\r\n  return {\r\n    type: SUBMIT_EVENT_TYPE,\r\n  };\r\n}\r\n\r\nexport type ValidationFailedEventType = {\r\n  type: typeof VALIDATION_FAILED_EVENT_TYPE,\r\n  validation: Validation,\r\n};\r\n\r\nexport function createValidationFailedEvent(\r\n  validation: Validation,\r\n): ValidationFailedEventType {\r\n  return {\r\n    type: VALIDATION_FAILED_EVENT_TYPE,\r\n    validation: validation,\r\n  };\r\n}\r\n\r\nexport type FormEvent =\r\n  | ValueChangeEventType\r\n  | InitialChangeEventType\r\n  | SubmitChangeEventType\r\n  | ValidationFailedEventType;\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/FormEvents.js","\"use babel\";\r\n// @flow\r\n\r\nimport { fromJS } from \"immutable\";\r\nimport { getJavascriptEntity } from \"./StateValueHelpers\";\r\nimport { getImmutPath } from \"./StatePathHelpers\";\r\n\r\nexport type ValidationError =\r\n  | { [key: string | number]: ValidationError }\r\n  | string;\r\nexport type ValidationInfo =\r\n  | { [key: string | number]: ValidationInfo }\r\n  | ValidationError\r\n  | boolean;\r\n\r\nexport function isValid(validation: Validation): boolean {\r\n  if (typeof validation === \"boolean\") return validation;\r\n  else if (validation == null) return true;\r\n  else if (\r\n    typeof validation === \"object\" &&\r\n    typeof validation.infos === \"object\" &&\r\n    validation.infos !== null &&\r\n    Object.keys(validation.infos).length === 0\r\n  )\r\n    return true;\r\n  else {\r\n    return validation.infos === true || validation.infos == null;\r\n  }\r\n}\r\n\r\nexport function getErrorText(validation: Validation): ?string {\r\n  if (typeof validation.infos === \"string\") return validation.infos;\r\n  else return null;\r\n}\r\n\r\nfunction setErrorForFieldAt(\r\n  infos: ValidationInfo,\r\n  statePath: string,\r\n  error: ?string,\r\n): ValidationInfo {\r\n  if (statePath == \"\" || infos == null || typeof infos != \"object\") {\r\n    return infos;\r\n  } else {\r\n    return fromJS(infos).setIn(getImmutPath(statePath), error).toJS();\r\n  }\r\n}\r\n\r\nfunction removeErrorForFieldAt(\r\n  infos: ValidationInfo,\r\n  statePath: string,\r\n): ValidationInfo {\r\n  return setErrorForFieldAt(infos, statePath, null);\r\n}\r\n\r\nexport class Validation {\r\n  infos: ValidationInfo;\r\n\r\n  constructor(infos: ValidationInfo = {}) {\r\n    this.infos = infos;\r\n  }\r\n\r\n  setErrorForFieldAt(statePath: string, error: string): Validation {\r\n    return new Validation(setErrorForFieldAt(this.infos, statePath, error));\r\n  }\r\n\r\n  removeErrorForFieldAt(statePath: string): Validation {\r\n    return new Validation(removeErrorForFieldAt(this.infos, statePath));\r\n  }\r\n\r\n  getErrorForFieldAt(statePath: string): ?ValidationError {\r\n    if (statePath === \"\") return getJavascriptEntity(this.infos);\r\n    else {\r\n      if (typeof this.infos === \"object\") {\r\n        let valuePath = getImmutPath(statePath);\r\n        return valuePath.reduce((red, value, i) => {\r\n          if (red !== undefined && red !== null && typeof red == \"object\") {\r\n            return red[value];\r\n          } else {\r\n            return red;\r\n          }\r\n        }, this.infos);\r\n      } else return null;\r\n    }\r\n  }\r\n\r\n  getNestedValidation(statePath: string): Validation {\r\n    if (statePath === \"\") {\r\n      return this;\r\n    } else {\r\n      return new Validation(this.getErrorForFieldAt(statePath));\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/ValidationHelpers.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 7\n// module chunks = 0","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/fbjs/lib/emptyFunction.js\n// module id = 8\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/fbjs/lib/invariant.js\n// module id = 9\n// module chunks = 0","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/prop-types/lib/ReactPropTypesSecret.js\n// module id = 10\n// module chunks = 0","\"use babel\";\r\n// @flow\r\n\r\nexport function getImmutPath(path: string): Array<string | number> {\r\n  if (path == \"\") return [];\r\n  return path.split(\".\").map(p => isNaN(p) ? p : parseInt(p));\r\n}\r\n\r\nexport function getNewPath(\r\n  immutState: Object,\r\n  statePath: string,\r\n  name: string,\r\n): string {\r\n  if (isArray(getValue(immutState, statePath))) {\r\n    let index = getValue(immutState, statePath).findIndex(\r\n      obj => obj.id == name,\r\n    );\r\n    return `${statePath}${statePath.length > 0 ? \".\" : \"\"}${index}.value`;\r\n  } else {\r\n    return `${statePath}${statePath.length > 0 ? \".\" : \"\"}${name}`;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/StatePathHelpers.js","\"use babel\";\r\n// @flow\r\n\r\nimport React from \"react\";\r\nimport { fromJS, is, List } from \"immutable\";\r\nimport FormElement from \"./FormElement\";\r\nimport { setValue, getValue } from \"./StateValueHelpers\";\r\nimport Rx from \"rxjs\";\r\nimport { INITIAL_CHANGE_EVENT_TYPE } from \"./FormEvents\";\r\nimport type { FormEvent } from \"./FormEvents\";\r\n\r\nexport default function StateDispatcher(\r\n  convertIn: (v: any, props: Props) => any = (v, props) => v,\r\n  convertOut: (v: any, props: Props) => any = (v, props) => v,\r\n) {\r\n  return function(WrappedComponent: Class<React$Component<any, any>>) {\r\n    class Dispatcher extends React.Component<any, any> {\r\n      subscription: Rx.Subscription;\r\n      handlers: {\r\n        [key: string]: {\r\n          get: () => any,\r\n          set: (value: any) => void,\r\n        },\r\n      };\r\n      valueChangeObs: Rx.Observable<FormEvent>;\r\n\r\n      constructor(props) {\r\n        super(props);\r\n\r\n        this.handlers = {};\r\n        this.valueChangeObs = props.valueChangeObs.map(e => {\r\n          const convertedValue = convertIn(e.value, props);\r\n          if (convertedValue === e.value) return e;\r\n          else\r\n            return Object.assign({}, e, {\r\n              value: convertedValue,\r\n              validation: e.validation,\r\n              statePath:\r\n                e.type === INITIAL_CHANGE_EVENT_TYPE\r\n                  ? undefined\r\n                  : props.statePath,\r\n            });\r\n        });\r\n      }\r\n\r\n      componentDidMount() {\r\n        if (this.context.attachToForm != null)\r\n          this.context.attachToForm(() => this.getUncontrolledState());\r\n        this.subscription = this.valueChangeObs\r\n          .filter(e => e.type == INITIAL_CHANGE_EVENT_TYPE)\r\n          .do(e => {\r\n            if (\r\n              global.process &&\r\n              global.process.env &&\r\n              global.process.env.FORMALIZR_ENV === \"DEBUG\"\r\n            ) {\r\n              console.log(\r\n                `Dispatching uncontrolled values from ${this.props.statePath}`,\r\n              );\r\n            }\r\n          })\r\n          .subscribe({\r\n            next: e => this.dispatchUncontrolledValues(e),\r\n          });\r\n      }\r\n\r\n      componentWillUnmount() {\r\n        if (this.context.attachToForm != null) this.context.attachToForm(null);\r\n        this.subscription.unsubscribe();\r\n      }\r\n\r\n      dispatchUncontrolledValues(event) {\r\n        Object.keys(this.handlers).forEach(statePath => {\r\n          if (\r\n            event.oldValue === undefined ||\r\n            getValue(convertIn(event.value, this.props), statePath) !==\r\n              getValue(convertIn(event.oldValue, this.props), statePath)\r\n          )\r\n            this.handlers[statePath].set(\r\n              getValue(convertIn(event.value, this.props), statePath),\r\n            );\r\n        });\r\n      }\r\n\r\n      getChildContext() {\r\n        return {\r\n          valueChangeObs: this.valueChangeObs,\r\n          rootValueChangeObs: this.props.rootValueChangeObs,\r\n          onStateChange: (v, statePath, validation) => {\r\n            const convertedInParentValue = convertIn(\r\n              this.props.getValue(),\r\n              this.props,\r\n            );\r\n            const completeValue =\r\n              Array.isArray(convertedInParentValue) === false\r\n                ? Object.assign({}, convertedInParentValue, { [statePath]: v })\r\n                : List().concat(convertedInParentValue).update(list => {\r\n                    return list.update(\r\n                      list.findIndex(item => item.id === statePath),\r\n                      item => Object.assign({}, item, { value: v }),\r\n                    );\r\n                  });\r\n            const convertedValue = convertOut(completeValue, this.props);\r\n            // console.log(\r\n            //   \"On change\",\r\n            //   completeValue,\r\n            //   convertedValue,\r\n            //   completeValue !== convertedValue,\r\n            //   v,\r\n            //   statePath,\r\n            // );\r\n            if (\r\n              convertedValue !== completeValue ||\r\n              typeof convertedValue != typeof this.props.getValue()\r\n            )\r\n              this.props.onChange(\r\n                convertedValue,\r\n                this.props.statePath,\r\n                validation,\r\n              );\r\n            else\r\n              this.props.onChange(\r\n                v,\r\n                `${this.props.statePath}${this.props.statePath == \"\" ||\r\n                statePath == \"\"\r\n                  ? \"\"\r\n                  : \".\"}${statePath}`,\r\n                validation,\r\n              );\r\n          },\r\n          attachToForm: null,\r\n          addHandler: ((statePath, getHandler, setHandler) => {\r\n            this.handlers = Object.assign({}, this.handlers, {\r\n              [statePath]: {\r\n                get: getHandler,\r\n                set: setHandler,\r\n              },\r\n            });\r\n          }).bind(this),\r\n        };\r\n      }\r\n\r\n      getUncontrolledState() {\r\n        let value = Object.keys(this.handlers).reduce(\r\n          (red, statePath) =>\r\n            setValue(red, statePath, this.handlers[statePath].get()),\r\n          {},\r\n        );\r\n        return convertOut(value, this.props);\r\n      }\r\n\r\n      render() {\r\n        return <WrappedComponent {...this.props} />;\r\n      }\r\n    }\r\n\r\n    Dispatcher.defaultProps = Object.assign({}, WrappedComponent.defaultProps, {\r\n      onChange() {},\r\n      value: {},\r\n      valueChangeObs: Rx.Observable.never(),\r\n    });\r\n\r\n    Dispatcher.propTypes = {\r\n      valueChangeObs: React.PropTypes.any,\r\n      onChange: React.PropTypes.func,\r\n    };\r\n\r\n    Dispatcher.childContextTypes = {\r\n      valueChangeObs: React.PropTypes.any,\r\n      onStateChange: React.PropTypes.func,\r\n      addHandler: React.PropTypes.func,\r\n      attachToForm: React.PropTypes.func,\r\n      rootValueChangeObs: React.PropTypes.any,\r\n    };\r\n\r\n    Dispatcher.contextTypes = {\r\n      attachToForm: React.PropTypes.func,\r\n    };\r\n\r\n    return FormElement({\r\n      root: true,\r\n      getUncontrolledValue: child => child.getUncontrolledState(),\r\n      setUncontrolledValue: child => {},\r\n    })(Dispatcher);\r\n  };\r\n}\r\n\r\ntype Props = {\r\n  valueChangeObs?: Rx.Observable<FormEvent>,\r\n  onChange?: (v: any) => void,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/StateDispatcher.js","\"use babel\";\r\n// @flow\r\n\r\nimport React from \"react\";\r\nimport { getValue, setValue } from \"./StateValueHelpers\";\r\nimport {\r\n  INITIAL_CHANGE_EVENT_TYPE,\r\n  VALUE_CHANGE_EVENT_TYPE,\r\n  VALIDATION_FAILED_EVENT_TYPE,\r\n} from \"./FormEvents\";\r\nimport type { FormEvent } from \"./FormEvents\";\r\nimport Rx from \"rxjs\";\r\nimport { Validation } from \"./ValidationHelpers\";\r\n\r\nconst NeverObservable = Rx.Observable.never();\r\n\r\nexport default function FormElement(\r\n  {\r\n    root = false,\r\n    validate = () => true,\r\n    getUncontrolledValue,\r\n    setUncontrolledValue,\r\n  }: {\r\n    root?: boolean,\r\n    validate?: (value: any, props: Object) => boolean,\r\n    getUncontrolledValue?: () => any,\r\n    setUncontrolledValue?: () => any,\r\n  } = {},\r\n) {\r\n  return function FormElementHOC(\r\n    WrappedComponent: Class<React.Component<any, any>>,\r\n  ) {\r\n    class FormElementContainer extends React.Component<any, any> {\r\n      parentValueChangeObs: Rx.Subject<FormEvent>;\r\n      valueChangeObs: Rx.Subject<FormEvent>;\r\n      subscription: Rx.Subscription;\r\n      value: ?any;\r\n      validation: ?any;\r\n\r\n      constructor(props, context) {\r\n        super(props);\r\n\r\n        this.state = {\r\n          value: null,\r\n          validation: null,\r\n        };\r\n        this.configureObs(props, context);\r\n      }\r\n\r\n      getHumanReadableIdentifier(props, context) {\r\n        const currentStatePath = this.getCurrentStatePath(props, context, {});\r\n        return `ProxiedField with statePath ${currentStatePath != null &&\r\n        currentStatePath !== \"\"\r\n          ? currentStatePath\r\n          : '\"\"'} and elementName ${props.elementName != \"\" &&\r\n        props.elementName != undefined\r\n          ? props.elementName\r\n          : '\"\"'}`;\r\n      }\r\n\r\n      getAssignedObs(props, context) {\r\n        if (props.valueChangeObs) {\r\n          return props.valueChangeObs;\r\n        } else if (context.valueChangeObs) {\r\n          return context.valueChangeObs;\r\n        } else {\r\n          return NeverObservable;\r\n        }\r\n      }\r\n\r\n      configureObs(props, context) {\r\n        this.parentValueChangeObs = this.getAssignedObs(props, context);\r\n        if (this.parentValueChangeObs === NeverObservable && props.__debug)\r\n          console.warn(\r\n            `${this.getHumanReadableIdentifier(\r\n              props,\r\n              context,\r\n            )} hasn't received any valueChangeObs neither as props nor context. Maybe you have forgotten the FormController / StateDispatcher duo`,\r\n          );\r\n        this.valueChangeObs = this.parentValueChangeObs\r\n          .do(e => {\r\n            if (props.__debug) {\r\n              const path = this.getCompleteCurrentStatePath(\r\n                props,\r\n                context,\r\n                e.value,\r\n              );\r\n              if (path != \"\" && e.type === VALUE_CHANGE_EVENT_TYPE) {\r\n                console.log(\r\n                  \"FILTERING\",\r\n                  path,\r\n                  \"FOR STATEPATH\",\r\n                  e.statePath,\r\n                  \"PROPS\",\r\n                  props,\r\n                  \"CONTEXT\",\r\n                  context,\r\n                );\r\n              }\r\n            }\r\n          })\r\n          .filter(e => {\r\n            const path = this.getCompleteCurrentStatePath(\r\n              props,\r\n              context,\r\n              e.value,\r\n            );\r\n            return (\r\n              e.type === INITIAL_CHANGE_EVENT_TYPE ||\r\n              e.type === VALIDATION_FAILED_EVENT_TYPE ||\r\n              path.startsWith(e.statePath) ||\r\n              (root && e.statePath.startsWith(path))\r\n            );\r\n          })\r\n          .do(e => {\r\n            if (props.__debug) {\r\n              const path = this.getCompleteCurrentStatePath(\r\n                props,\r\n                context,\r\n                e.value,\r\n              );\r\n              if (path != \"\" && e.type === VALUE_CHANGE_EVENT_TYPE) {\r\n                console.log(\"REFRESHING\", path, \"FOR EVENT\", e);\r\n              }\r\n            }\r\n          })\r\n          .map(e =>\r\n            Object.assign({}, e, {\r\n              value: getValue(\r\n                e.value,\r\n                this.getCurrentStatePath(props, context, e.value),\r\n              ),\r\n              validation:\r\n                e.validation && e.validation instanceof Validation\r\n                  ? e.validation.getNestedValidation(\r\n                      this.getCurrentStatePath(props, context, e.value),\r\n                    )\r\n                  : e.validation,\r\n            }),\r\n          )\r\n          .do(e => {\r\n            if (props.__debug) {\r\n              console.log(\"FOUND VALUE:\", e);\r\n            }\r\n          });\r\n      }\r\n\r\n      connectToFormController(props, context) {\r\n        if (this.valueChangeObs && this.isControlled(props, context)) {\r\n          this.disconnectFromFormController();\r\n          this.subscription = this.valueChangeObs.subscribe(e => {\r\n            if (props.__debug) {\r\n              console.log(\r\n                \"Setting value\",\r\n                e,\r\n                `in ${root ? \"instance\" : \"state\"} mode`,\r\n              );\r\n            }\r\n            if (e.value === undefined) {\r\n              console.warn(\r\n                `${this.getHumanReadableIdentifier(\r\n                  props,\r\n                  context,\r\n                )} doesn't have any value set in the state, it may break`,\r\n              );\r\n            }\r\n            if (root) {\r\n              this.value = e.value;\r\n              this.validation = e.validation;\r\n            } else {\r\n              this.setState({\r\n                value: e.value,\r\n                validation: e.validation,\r\n              });\r\n            }\r\n          });\r\n        }\r\n      }\r\n\r\n      disconnectFromFormController() {\r\n        if (this.subscription) {\r\n          this.subscription.unsubscribe();\r\n        }\r\n      }\r\n\r\n      connectToUncontrolledHandlers(props, context) {\r\n        if (\r\n          props.elementName &&\r\n          context.addHandler &&\r\n          !this.isControlled(props, context)\r\n        ) {\r\n          if (getUncontrolledValue == null || setUncontrolledValue == null) {\r\n            console.warn(\r\n              `${this.getHumanReadableIdentifier(\r\n                props,\r\n                context,\r\n              )} is uncontrolled but has no getValue / setValue defined, thus it is disabled and not connected`,\r\n            );\r\n          } else {\r\n            context.addHandler(\r\n              this.getCurrentStatePath(props, context),\r\n              () =>\r\n                root\r\n                  ? this.getUncontrolledState()\r\n                  : getUncontrolledValue(this.child),\r\n              value =>\r\n                root\r\n                  ? this.child.dispatchUncontrolledValues({ value: value })\r\n                  : setUncontrolledValue(this.child, value),\r\n            );\r\n          }\r\n        }\r\n      }\r\n\r\n      componentDidMount() {\r\n        this.connectToUncontrolledHandlers(this.props, this.context);\r\n        this.connectToFormController(this.props, this.context);\r\n      }\r\n\r\n      componentWillReceiveProps(nextProps, nextContext) {\r\n        if (\r\n          this.parentValueChangeObs !==\r\n          this.getAssignedObs(nextProps, nextContext)\r\n        ) {\r\n          console.log(\r\n            `Reconnecting ${this.getHumanReadableIdentifier(\r\n              nextProps,\r\n              nextContext,\r\n            )}`,\r\n          );\r\n          this.configureObs(nextProps, nextContext);\r\n          this.connectToFormController(nextProps, nextContext);\r\n        }\r\n      }\r\n\r\n      componentWillUnmount() {\r\n        this.disconnectFromFormController();\r\n      }\r\n\r\n      getNewPathPart(props, context, v) {\r\n        let value = getValue(v, context.statePath || \"\");\r\n        if (typeof value == \"object\" && Array.isArray(value)) {\r\n          let index = value.findIndex(v => v.id == props.elementName);\r\n          return (index != -1 ? index : \"\") + \".value\";\r\n        } else {\r\n          return props.elementName;\r\n        }\r\n      }\r\n\r\n      getNewCompletePathPart(props, context, v) {\r\n        let value = getValue(v, context.completeStatePath || \"\");\r\n        if (typeof value == \"object\" && Array.isArray(value)) {\r\n          let index = value.findIndex(v => v.id == props.elementName);\r\n          return (index != -1 ? index : \"\") + \".value\";\r\n        } else {\r\n          return props.elementName;\r\n        }\r\n      }\r\n\r\n      getCurrentStatePath(props, context, value) {\r\n        if (context.statePath && context.statePath != \"\" && props.elementName)\r\n          return (\r\n            context.statePath + \".\" + this.getNewPathPart(props, context, value)\r\n          );\r\n        else if (props.elementName)\r\n          return this.getNewPathPart(props, context, value);\r\n        else if (context.statePath) return context.statePath;\r\n        else return \"\";\r\n      }\r\n\r\n      getCompleteCurrentStatePath(props, context, value) {\r\n        if (\r\n          props.valueChangeObs == null &&\r\n          context.completeStatePath &&\r\n          context.completeStatePath != \"\" &&\r\n          props.elementName\r\n        )\r\n          return (\r\n            context.completeStatePath +\r\n            \".\" +\r\n            this.getNewCompletePathPart(props, context, value)\r\n          );\r\n        else if (props.elementName)\r\n          return this.getNewCompletePathPart(props, context, value);\r\n        else if (props.valueChangeObs == null && context.completeStatePath)\r\n          return context.completeStatePath;\r\n        else return \"\";\r\n      }\r\n\r\n      isControlled(props, context) {\r\n        return props.uncontrolled || context.uncontrolled ? false : true;\r\n      }\r\n\r\n      getStatePathToDispatch(props, context) {\r\n        if (root) return \"\";\r\n        else return this.getCurrentStatePath(props, context);\r\n      }\r\n\r\n      getChildContext() {\r\n        return {\r\n          statePath: this.getStatePathToDispatch(this.props, this.context),\r\n          completeStatePath: this.getCompleteCurrentStatePath(\r\n            this.props,\r\n            this.context,\r\n          ),\r\n          uncontrolled: this.isControlled(this.props, this.context) === false,\r\n        };\r\n      }\r\n\r\n      getUncontrolledState() {\r\n        return this.child.getUncontrolledState();\r\n      }\r\n\r\n      render() {\r\n        const value =\r\n          this.state.value == undefined && this.props.value !== undefined\r\n            ? this.props.value\r\n            : this.state.value;\r\n        const validation =\r\n          this.state.validation == undefined &&\r\n          this.props.validation !== undefined\r\n            ? this.props.validation\r\n            : this.state.validation;\r\n        const statePath = this.getCurrentStatePath(this.props, this.context);\r\n        if (this.isControlled(this.props, this.context)) {\r\n          return (\r\n            <WrappedComponent\r\n              {...Object.assign({}, this.props, {\r\n                value: value,\r\n                validation: validation,\r\n                valueChangeObs: this.valueChangeObs,\r\n                rootValueChangeObs: this.context.rootValueChangeObs\r\n                  ? this.context.rootValueChangeObs\r\n                  : this.valueChangeObs,\r\n                onChange:\r\n                  this.props.onChange != null\r\n                    ? (newValue, sp) => {\r\n                        this.props.onChange(\r\n                          newValue,\r\n                          sp !== undefined ? sp : statePath,\r\n                          validate(newValue, this.props),\r\n                        );\r\n                      }\r\n                    : (newValue, sp) => {\r\n                        this.context.onStateChange(\r\n                          newValue,\r\n                          sp !== undefined ? sp : statePath,\r\n                          validate(newValue, this.props),\r\n                        );\r\n                      },\r\n                statePath: statePath,\r\n                getValue: root ? () => this.value : undefined,\r\n              })}\r\n              ref={elem => (this.child = elem)}\r\n            />\r\n          );\r\n        } else {\r\n          return (\r\n            <WrappedComponent\r\n              {...Object.assign({}, this.props, {\r\n                statePath: statePath,\r\n                getValue: root ? () => this.value : undefined,\r\n              })}\r\n              ref={elem => (this.child = elem)}\r\n            />\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    FormElementContainer.defaultProps = Object.assign(\r\n      {\r\n        uncontrolled: false,\r\n      },\r\n      {\r\n        elementName:\r\n          (WrappedComponent.defaultProps &&\r\n            WrappedComponent.defaultProps.elementName) ||\r\n          undefined,\r\n      },\r\n    );\r\n\r\n    FormElementContainer.contextTypes = {\r\n      statePath: React.PropTypes.string,\r\n      completeStatePath: React.PropTypes.string,\r\n      valueChangeObs: React.PropTypes.any,\r\n      onStateChange: React.PropTypes.func,\r\n      addHandler: React.PropTypes.func,\r\n      uncontrolled: React.PropTypes.bool,\r\n      rootValueChangeObs: React.PropTypes.any,\r\n    };\r\n\r\n    FormElementContainer.childContextTypes = {\r\n      statePath: React.PropTypes.string,\r\n      completeStatePath: React.PropTypes.string,\r\n      uncontrolled: React.PropTypes.bool,\r\n    };\r\n\r\n    return FormElementContainer;\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/FormElement.js","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar emptyFunction = require('./emptyFunction');\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = emptyFunction;\n\nif (process.env.NODE_ENV !== 'production') {\n  (function () {\n    var printWarning = function printWarning(format) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var argIndex = 0;\n      var message = 'Warning: ' + format.replace(/%s/g, function () {\n        return args[argIndex++];\n      });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // --- Welcome to debugging React ---\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch (x) {}\n    };\n\n    warning = function warning(condition, format) {\n      if (format === undefined) {\n        throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n      }\n\n      if (format.indexOf('Failed Composite propType: ') === 0) {\n        return; // Ignore CompositeComponent proptype check.\n      }\n\n      if (!condition) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n          args[_key2 - 2] = arguments[_key2];\n        }\n\n        printWarning.apply(undefined, [format].concat(args));\n      }\n    };\n  })();\n}\n\nmodule.exports = warning;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/fbjs/lib/warning.js\n// module id = 14\n// module chunks = 0","\"use babel\";\r\n// @flow\r\n\r\nexport { default as Form } from \"./Form\";\r\nexport { default as StateDispatcher } from \"./StateDispatcher\";\r\nexport { default as FormElement } from \"./FormElement\";\r\nexport { default as FormWatcher } from \"./FormWatcher\";\r\nexport { getValue } from \"./StateValueHelpers\";\r\nexport {\r\n  notNull,\r\n  notUndefined,\r\n  notEmpty,\r\n  composeValidation,\r\n  required,\r\n  isTrue,\r\n  maxLength,\r\n  lessThan,\r\n} from \"./ValidationComposition\";\r\nexport {\r\n  convertConversionModelToConversionJobs,\r\n  convertIn,\r\n  convertOut,\r\n  validateModel,\r\n} from \"./FormModel\";\r\nexport { isValid, getErrorText } from \"./ValidationHelpers\";\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js","\"use babel\";\r\n// @flow\r\n\r\nimport React from \"react\";\r\nimport { fromJS, is } from \"immutable\";\r\nimport Rx from \"rxjs\";\r\nimport {\r\n  INITIAL_CHANGE_EVENT_TYPE,\r\n  VALIDATION_FAILED_EVENT_TYPE,\r\n  VALUE_CHANGE_EVENT_TYPE,\r\n  SUBMIT_EVENT_TYPE,\r\n  createInitialChangeEvent,\r\n  createSubmitChangeEvent,\r\n  createValidationFailedEvent,\r\n  createValueChangeEvent,\r\n} from \"./FormEvents\";\r\nimport type { FormEvent } from \"./FormEvents\";\r\nimport { setValue } from \"./StateValueHelpers\";\r\nimport {\r\n  Validation,\r\n  type ValidationError,\r\n  type ValidationInfo,\r\n} from \"./ValidationHelpers\";\r\nimport StateDispatcher from \"./StateDispatcher\";\r\n\r\nexport default function Form(\r\n  {\r\n    applyControl = state => state,\r\n    convertIn = (value, props) => value,\r\n    convertOut = (value, props) => value,\r\n    validate = (value, props) => true,\r\n    checkIfModified = false,\r\n    immutableInitial = false,\r\n  }: {\r\n    applyControl?: (state: any) => any,\r\n    convertIn?: (value: any, props: any) => Object,\r\n    convertOut?: (value: any, props: any) => Object,\r\n    validate?: (value: any, props: any) => ValidationInfo,\r\n    checkIfModified?: boolean,\r\n    immutableInitial?: boolean,\r\n  } = {},\r\n): (\r\n  Comp: Class<React.Component<any, any>>,\r\n) => Class<React.Component<any, any>> {\r\n  return function FormHOC(\r\n    WrappedComponent: Class<React.Component<any, any>>,\r\n  ): Class<React.Component<any, any>> {\r\n    const WrappedComponentWithDispatcher = StateDispatcher()(WrappedComponent);\r\n\r\n    class FormContainer extends React.Component<any, any> {\r\n      subject: Rx.Subject<FormEvent>;\r\n      valueChangeObs: Rx.Subject<FormEvent>;\r\n      rootDispatcherGetter: ?() => any;\r\n\r\n      constructor(props) {\r\n        super();\r\n        this.subject = new Rx.Subject()\r\n          .scan(\r\n            (acc, e) => {\r\n              const newValidation =\r\n                e.validation != null ? e.validation : acc.validation;\r\n              switch (e.type) {\r\n                case VALUE_CHANGE_EVENT_TYPE:\r\n                  const newState = setValue(acc.value, e.statePath, e.newValue);\r\n                  const controlledNewState = applyControl(newState, this.props);\r\n                  return {\r\n                    type: VALUE_CHANGE_EVENT_TYPE,\r\n                    value: controlledNewState,\r\n                    oldValue: acc.value,\r\n                    statePath: e.statePath,\r\n                    validation: newValidation,\r\n                  };\r\n                case SUBMIT_EVENT_TYPE:\r\n                  return {\r\n                    type: SUBMIT_EVENT_TYPE,\r\n                    value: acc.value,\r\n                    validation: acc.validation,\r\n                  };\r\n                case INITIAL_CHANGE_EVENT_TYPE:\r\n                  return {\r\n                    type: INITIAL_CHANGE_EVENT_TYPE,\r\n                    value: e.newValue,\r\n                    oldValue: acc.value,\r\n                    validation: newValidation,\r\n                  };\r\n                case VALIDATION_FAILED_EVENT_TYPE:\r\n                  return {\r\n                    type: VALIDATION_FAILED_EVENT_TYPE,\r\n                    value: acc.value,\r\n                    validation: e.validation,\r\n                  };\r\n                default:\r\n                  return acc;\r\n              }\r\n            },\r\n            { value: this._getInitialValue(props), validation: true },\r\n          )\r\n          .do(\r\n            e =>\r\n              global.process &&\r\n              global.process.env &&\r\n              global.process.env.FORMALIZR_ENV === \"DEBUG\" &&\r\n              console.log(\"Form event:\\n\", e),\r\n          )\r\n          .share();\r\n        this.subject.filter(e => e.type == SUBMIT_EVENT_TYPE).subscribe({\r\n          next: e => this._submit(e.value),\r\n        });\r\n        this.valueChangeObs = this.subject\r\n          .filter(\r\n            e =>\r\n              e.type == VALUE_CHANGE_EVENT_TYPE ||\r\n              e.type == INITIAL_CHANGE_EVENT_TYPE ||\r\n              e.type == VALIDATION_FAILED_EVENT_TYPE,\r\n          )\r\n          .publishBehavior({\r\n            type: INITIAL_CHANGE_EVENT_TYPE,\r\n            value: this._getInitialValue(props),\r\n            validation: true,\r\n          })\r\n          .refCount();\r\n        this.rootDispatcherGetter = null;\r\n      }\r\n\r\n      componentWillReceiveProps(nextProps) {\r\n        let newInitial = this._getInitialValue(nextProps);\r\n        let oldInitial = this._getInitialValue(this.props);\r\n        if (\r\n          (oldInitial != null &&\r\n            \"toJS\" in oldInitial &&\r\n            newInitial != null &&\r\n            \"toJS\" in newInitial) ||\r\n          immutableInitial\r\n        ) {\r\n          if (newInitial !== oldInitial)\r\n            this.subject.next(createInitialChangeEvent(newInitial));\r\n        } else if (oldInitial == null && newInitial != null) {\r\n          this.subject.next(createInitialChangeEvent(newInitial));\r\n        } else if (oldInitial != null && newInitial != null) {\r\n          if (!is(fromJS(newInitial), fromJS(oldInitial)))\r\n            this.subject.next(createInitialChangeEvent(newInitial));\r\n        }\r\n      }\r\n\r\n      componentWillUnmount() {\r\n        this.subject.unsubscribe();\r\n      }\r\n\r\n      _getInitialValue(props) {\r\n        let v =\r\n          typeof props.formInputValue != \"function\"\r\n            ? props.formInputValue\r\n            : props.formInputValue(props);\r\n        return convertIn(v == null ? {} : v, props);\r\n      }\r\n\r\n      _mergeValues(value) {\r\n        return fromJS(value).mergeDeep(\r\n          this.rootDispatcherGetter\r\n            ? fromJS(this.rootDispatcherGetter())\r\n            : fromJS({}),\r\n        );\r\n      }\r\n\r\n      _submit(value) {\r\n        let newValue = this._mergeValues(value);\r\n        if (\r\n          checkIfModified === false ||\r\n          !is(newValue, fromJS(this._getInitialValue(this.props)))\r\n        ) {\r\n          const validation = validate(newValue.toJS(), this.props);\r\n          if (validation === true || validation == null) {\r\n            if (this.props.onSubmit == null) {\r\n              console.warn(\r\n                \"Form hasn't received any onSubmit function as props, you may have forgotten it\",\r\n              );\r\n            } else {\r\n              this.props.onSubmit(convertOut(newValue.toJS(), this.props));\r\n            }\r\n          } else {\r\n            const newValidation = new Validation(validation);\r\n            if (typeof this.props.onValidationFailed === \"function\") {\r\n              this.props.onValidationFailed(newValidation);\r\n            }\r\n            this.subject.next(createValidationFailedEvent(newValidation));\r\n          }\r\n        }\r\n      }\r\n\r\n      getChildContext() {\r\n        return {\r\n          attachToForm: getter => {\r\n            this.rootDispatcherGetter = getter;\r\n          },\r\n        };\r\n      }\r\n      render() {\r\n        return (\r\n          <WrappedComponentWithDispatcher\r\n            {...this.props}\r\n            onChange={(value: any, statePath: string, validation: Validation) =>\r\n              this.subject.next(\r\n                createValueChangeEvent(value, statePath, validation),\r\n              )}\r\n            valueChangeObs={this.valueChangeObs}\r\n            submit={() => this.subject.next(createSubmitChangeEvent())}\r\n          />\r\n        );\r\n      }\r\n    }\r\n\r\n    FormContainer.childContextTypes = {\r\n      attachToForm: React.PropTypes.func,\r\n    };\r\n\r\n    return FormContainer;\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Form.js","\"use babel\";\r\n// @flow\r\nimport React from \"react\";\r\nimport {\r\n  INITIAL_CHANGE_EVENT_TYPE,\r\n  VALIDATION_FAILED_EVENT_TYPE,\r\n} from \"./FormEvents\";\r\nimport Rx from \"rxjs\";\r\nimport PropTypes from \"prop-types\";\r\nimport { getValue } from \"./StateValueHelpers\";\r\n\r\nconst NeverObservable = Rx.Observable.never();\r\n\r\nexport default class FormWatcher extends React.Component<\r\n  DefaultProps,\r\n  Props,\r\n  State,\r\n> {\r\n  state: State;\r\n  props: Props;\r\n  watchPath: string;\r\n  valueChangeObs: Rx.Observable;\r\n  subscription: Rx.Subscription;\r\n  static defaultProps: DefaultProps;\r\n\r\n  constructor(props: Props, context: Context) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: null,\r\n      validation: true,\r\n    };\r\n\r\n    this.watchPath = this.getWatchedPath(props, context);\r\n    if (this.watchPath == null) {\r\n      throw new Error(\r\n        \"watchPath props is not set on FormWatcher, you have to set a statepath string on which the FormWatcher will watch\",\r\n      );\r\n    }\r\n    this.selectObs(props, context);\r\n  }\r\n\r\n  getAssignedObs(props: Props, context: Context): Rx.Observable<any> {\r\n    if (context.rootValueChangeObs != null) return context.rootValueChangeObs;\r\n    else return NeverObservable;\r\n  }\r\n\r\n  selectObs(props: Props, context: Context) {\r\n    this.valueChangeObs = this.getAssignedObs(props, context).filter(e => {\r\n      if (props.__debug) {\r\n        console.log(\"FILTERING\", e, \"In watcher\", this.watchPath);\r\n      }\r\n      if (e.statePath)\r\n        return (\r\n          this.watchPath.startsWith(e.statePath) ||\r\n          e.statePath.startsWith(this.watchPath)\r\n        );\r\n      else if (e.type === INITIAL_CHANGE_EVENT_TYPE) return true;\r\n      else if (e.type === VALIDATION_FAILED_EVENT_TYPE) return true;\r\n      else return false;\r\n    });\r\n  }\r\n\r\n  connectsToFormController() {\r\n    if (this.subscription) this.subscription.unsubscribe();\r\n    this.subscription = this.valueChangeObs.subscribe(e => {\r\n      this.setState({\r\n        value: e.value,\r\n        validation: e.validation,\r\n      });\r\n    });\r\n  }\r\n\r\n  getWatchedPath(props: Props, context: Context): string {\r\n    return typeof props.watchPath === \"function\"\r\n      ? props.watchPath(context.completeStatePath || \"\")\r\n      : props.watchPath;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.connectsToFormController();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps: Props, nextContext: Context) {\r\n    if (this.valueChangeObs !== this.getAssignedObs(nextProps, nextContext)) {\r\n      this.selectObs(nextProps, nextContext);\r\n      this.connectsToFormController();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n      this.subscription = null;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (typeof this.props.children !== \"function\")\r\n      throw new Error(\r\n        \"children of FormWatcher must be a function of type (stateValue, props) => React$element\",\r\n      );\r\n    const watchedValidation =\r\n      typeof this.state.validation === \"object\" &&\r\n      this.state.validation !== null\r\n        ? this.state.validation.getNestedValidation(this.watchPath)\r\n        : this.state.validation;\r\n    return this.props.children(\r\n      {\r\n        value: this.state.value,\r\n        watchedValue: getValue(\r\n          this.state.value,\r\n          this.getWatchedPath(this.props, this.context),\r\n        ),\r\n        watchedStatePath: this.watchPath,\r\n        validation: this.state.validation,\r\n        watchedValidation,\r\n      },\r\n      this.props,\r\n    );\r\n  }\r\n}\r\n\r\nFormWatcher.propTypes = {};\r\n\r\nFormWatcher.defaultProps = {\r\n  __debug: false,\r\n};\r\n\r\nFormWatcher.contextTypes = {\r\n  rootValueChangeObs: PropTypes.any,\r\n  completeStatePath: PropTypes.string,\r\n};\r\n\r\ntype DefaultProps = {\r\n  __debug: false,\r\n};\r\n\r\ntype Props = {\r\n  watchPath: string | ((path: string) => string),\r\n  __debug?: boolean,\r\n  children: (\r\n    values: {\r\n      value: ?any,\r\n      watchedValue: ?any,\r\n      watchedStatePath: string,\r\n      validation: any,\r\n      watchedValidation: any,\r\n    },\r\n    props: Object,\r\n  ) => React$Element<any>,\r\n};\r\n\r\ntype State = {\r\n  value: any,\r\n  validation: any,\r\n};\r\n\r\ntype Context = {\r\n  completeStatePath?: string,\r\n  rootValueChangeObs: Rx.Observable,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/FormWatcher.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/prop-types/index.js\n// module id = 18\n// module chunks = 0","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          invariant(\n            false,\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            warning(\n              false,\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `%s` prop on `%s`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.',\n              propFullName,\n              componentName\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunction.thatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOf, expected an instance of array.') : void 0;\n      return emptyFunction.thatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues);\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (propValue.hasOwnProperty(key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunction.thatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        warning(\n          false,\n          'Invalid argument supplid to oneOfType. Expected an array of check functions, but ' +\n          'received %s at index %s.',\n          getPostfixForTypeWarning(checker),\n          i\n        );\n        return emptyFunction.thatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/prop-types/factoryWithTypeCheckers.js\n// module id = 19\n// module chunks = 0","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== 'production') {\n  var invariant = require('fbjs/lib/invariant');\n  var warning = require('fbjs/lib/warning');\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (typeSpecs.hasOwnProperty(typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          invariant(typeof typeSpecs[typeSpecName] === 'function', '%s: %s type `%s` is invalid; it must be a function, usually from ' + 'React.PropTypes.', componentName || 'React class', location, typeSpecName);\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        warning(!error || error instanceof Error, '%s: type specification of %s `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error);\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          warning(false, 'Failed %s type: %s%s', location, error.message, stack != null ? stack : '');\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = checkPropTypes;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/prop-types/checkPropTypes.js\n// module id = 20\n// module chunks = 0","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    invariant(\n      false,\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/prop-types/factoryWithThrowingShims.js\n// module id = 21\n// module chunks = 0","// @flow\r\n\r\nimport { fromJS } from \"immutable\";\r\n\r\nexport function notNull(\r\n  { errorString = \"Not filled\" }: { errorString?: string } = {},\r\n) {\r\n  return function validateNotNull(value: mixed) {\r\n    if (value === null) {\r\n      return errorString;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n}\r\n\r\nexport function notUndefined(\r\n  { errorString = \"not filled\" }: { errorString?: string } = {},\r\n) {\r\n  return function validateNotUndefined(value: mixed) {\r\n    if (value === undefined) {\r\n      return errorString;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n}\r\n\r\nexport function notEmpty(\r\n  { errorString = \"not filled\" }: { errorString?: string } = {},\r\n) {\r\n  return function validateNotEmpty(value: mixed) {\r\n    if (value === \"\") {\r\n      return errorString;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n}\r\n\r\nexport function composeValidation(...validates) {\r\n  return function validateValue(value: mixed, props: Object) {\r\n    return validates.reduce((red, validate) => {\r\n      if (red !== true) return red;\r\n      const validated = validate(value, props);\r\n      if (validated === true) return true;\r\n      else return validated;\r\n    }, true);\r\n  };\r\n}\r\n\r\nexport function required(\r\n  { errorString = \"not filled\" }: { errorString?: string } = {},\r\n) {\r\n  return composeValidation(\r\n    notUndefined({ errorString }),\r\n    notNull({ errorString }),\r\n    notEmpty({ errorString }),\r\n  );\r\n}\r\n\r\nexport function isTrue(\r\n  { errorString = \"not true\" }: { errorString?: string } = {},\r\n) {\r\n  return function validateTrue(value: mixed) {\r\n    if (value !== true) {\r\n      return errorString;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n}\r\n\r\nexport function maxLength(\r\n  max: number,\r\n  { errorString = \"too long\" }: { errorString?: string } = {},\r\n) {\r\n  return function validateMaxLength(value: mixed) {\r\n    if (typeof value !== \"string\" || value.length > max) {\r\n      return errorString;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n}\r\n\r\nexport function lessThan(\r\n  accessor1: (value: mixed, props: Object) => mixed | string,\r\n  accessor2: (value: mixed, props: Object) => mixed | string,\r\n  { error = \"Invalid\" }: { error?: mixed } = {},\r\n) {\r\n  return function validateLessThan(value: mixed, props: Object) {\r\n    if (\r\n      (typeof accessor1 !== \"function\" && typeof accessor1 !== \"string\") ||\r\n      (typeof accessor2 !== \"function\" && typeof accessor2 !== \"string\")\r\n    )\r\n      throw new Error(\r\n        \"lessThan validator takes either a function or a stringPath as accessor type\",\r\n      );\r\n    const value1 =\r\n      typeof accessor1 === \"function\"\r\n        ? accessor1(value, props)\r\n        : fromJS(value).getIn(accessor1.split(\".\"));\r\n    const value2 =\r\n      typeof accessor2 === \"function\"\r\n        ? accessor2(value, props)\r\n        : fromJS(value).getIn(accessor2.split(\".\"));\r\n    // $FlowFixMe\r\n    if (value1 > value2) {\r\n      if (typeof error === \"function\") return error(value, props);\r\n      else return error;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/ValidationComposition.js","// @flow\r\n\r\nimport { fromJS, List, Map } from \"immutable\";\r\n\r\nexport type ConversionModel = {\r\n  out?: string,\r\n  out_path?: string,\r\n  default?: ?any,\r\n  convertIn?: (value: any, props: Object) => any,\r\n  convertOut?: (value: any, props: Object) => any,\r\n  complex?: boolean,\r\n  validate?: $FlowFixMe,\r\n  [key: string]: ConversionModel,\r\n};\r\n\r\nexport type ConversionJob = {\r\n  in: string,\r\n  out: string,\r\n  convertIn?: (v: any, props: Object) => any,\r\n  convertOut?: (v: any, props: Object) => any,\r\n  validate?: $FlowFixMe,\r\n  default?: any,\r\n};\r\n\r\nexport type ConversionJobs = List<ConversionJob>;\r\n\r\nexport function convertConversionModelToConversionJobs(\r\n  model: ConversionModel,\r\n  currentInPath?: string = \"\",\r\n  parentOutPath?: string = \"\",\r\n): ConversionJobs {\r\n  if (typeof model !== \"object\" || model == null) {\r\n    return List();\r\n  }\r\n  const currentNodeOutPath =\r\n    \"out\" in model || \"out_path\" in model\r\n      ? model.out || model.out_path || \"\"\r\n      : \"\";\r\n  const currentOutPath = `${parentOutPath != \"\"\r\n    ? `${parentOutPath}.${currentNodeOutPath}`\r\n    : currentNodeOutPath}`;\r\n  const jobs = List()\r\n    .concat(\r\n      currentInPath !== \"\"\r\n        ? List.of({\r\n            in: currentInPath,\r\n            out: currentOutPath,\r\n            convertIn: \"convertIn\" in model ? model.convertIn : undefined,\r\n            convertOut: \"convertOut\" in model ? model.convertOut : undefined,\r\n            default: model.default,\r\n            validate: \"validate\" in model ? model.validate : undefined,\r\n          })\r\n        : List(),\r\n    )\r\n    .concat(\r\n      Object.keys(model)\r\n        .filter(\r\n          nodeKey =>\r\n            ![\r\n              \"convertIn\",\r\n              \"convertOut\",\r\n              \"out\",\r\n              \"out_path\",\r\n              \"complex\",\r\n              \"default\",\r\n              \"validate\",\r\n            ].includes(nodeKey),\r\n        )\r\n        .reduce((red: ConversionJobs, nodeKey: string): ConversionJobs => {\r\n          const childNode = model[nodeKey];\r\n          const childInPath = currentInPath\r\n            ? `${currentInPath}.${nodeKey}`\r\n            : nodeKey;\r\n          return red.concat(\r\n            convertConversionModelToConversionJobs(\r\n              childNode,\r\n              childInPath,\r\n              currentOutPath,\r\n            ),\r\n          );\r\n        }, List()),\r\n    );\r\n  return jobs;\r\n}\r\n\r\nexport function convertIn(jobs: ConversionJobs): Object {\r\n  return function convertInModelValue(value?: ?Object, props: Object) {\r\n    if (value == null) return {};\r\n    const immutableValue = fromJS(value);\r\n    if (props && props.__debug && console.groupCollapsed) {\r\n      console.groupCollapsed(\"Form ConvertIn\");\r\n    }\r\n    const convertedValue = jobs\r\n      .reduceRight((red, job) => {\r\n        const inPath = job.in.split(\".\");\r\n        const outPath = job.out.split(\".\");\r\n        const notConvertedValue =\r\n          inPath.length === 1 && inPath[0] === \"\"\r\n            ? immutableValue\r\n            : immutableValue.getIn(inPath, red.getIn(outPath, job.default));\r\n        const inValue =\r\n          typeof job.convertIn === \"function\"\r\n            ? job.convertIn(notConvertedValue, props)\r\n            : notConvertedValue;\r\n        let newRed;\r\n        if (\r\n          (red.getIn(outPath) != null &&\r\n            inValue != null &&\r\n            inValue !== false) ||\r\n          (outPath.length === 1 && outPath[0] === \"\")\r\n        )\r\n          newRed = red;\r\n        else {\r\n          newRed = red.setIn(outPath, fromJS(inValue));\r\n        }\r\n        if (props && props.__debug) {\r\n          console.log(\r\n            \"ConvertIn reducing...\",\r\n            \"\\nState (initial, red):\",\r\n            immutableValue,\r\n            red,\r\n            \"\\nJob:\",\r\n            job,\r\n            \"\\nIn:\",\r\n            inPath,\r\n            inValue,\r\n            \"converted from\",\r\n            notConvertedValue,\r\n            \"\\nOut:\",\r\n            outPath,\r\n            \"\\nNew reduction:\",\r\n            newRed,\r\n          );\r\n        }\r\n        return newRed;\r\n      }, Map())\r\n      .toJS();\r\n    if (props && props.__debug) {\r\n      console.log(\r\n        \"ConvertIn converted\",\r\n        value,\r\n        \"into\",\r\n        convertedValue,\r\n        \"with props\",\r\n        props,\r\n        \"and jobs\",\r\n        jobs,\r\n      );\r\n      if (console.groupEnd) {\r\n        console.groupEnd();\r\n      }\r\n    }\r\n    return convertedValue;\r\n  };\r\n}\r\n\r\nexport function convertOut(jobs: ConversionJobs): Object {\r\n  return function convertOutModelValue(value?: ?Object, props: Object) {\r\n    if (value == null) return {};\r\n    const immutableValue = fromJS(value);\r\n    if (props && props.__debug && console.groupCollapsed) {\r\n      console.groupCollapsed(\"Form ConvertOut\");\r\n    }\r\n    const convertedValue = jobs\r\n      .reduceRight((red, job) => {\r\n        const outPath = job.out.split(\".\");\r\n        const notConvertedValue = immutableValue.getIn(outPath);\r\n        const outValue =\r\n          typeof job.convertOut === \"function\"\r\n            ? job.convertOut(notConvertedValue, props)\r\n            : notConvertedValue;\r\n        if (outValue === undefined) {\r\n          return red;\r\n        }\r\n        const inPath = job.in.split(\".\");\r\n        let newRed;\r\n        if (\r\n          ((red.getIn(inPath) != null && outValue != null) ||\r\n            (inPath.length === 1 && inPath[0] === \"\")) &&\r\n          !job.convertOut\r\n        )\r\n          newRed = red;\r\n        else {\r\n          newRed = red.setIn(inPath, outValue);\r\n        }\r\n        if (props && props.__debug) {\r\n          console.log(\r\n            \"ConvertOut reducing...\",\r\n            \"\\nState (initial, red):\",\r\n            immutableValue,\r\n            red,\r\n            \"\\nJob:\",\r\n            job,\r\n            \"\\nOut:\",\r\n            outPath,\r\n            outValue,\r\n            \"converted from\",\r\n            notConvertedValue,\r\n            \"\\nIn:\",\r\n            inPath,\r\n            \"\\nNew reduction:\",\r\n            newRed,\r\n          );\r\n        }\r\n        return newRed;\r\n      }, Map())\r\n      .toJS();\r\n    if (props && props.__debug) {\r\n      console.log(\r\n        \"ConvertOut converted\",\r\n        value,\r\n        \"into\",\r\n        convertedValue,\r\n        \"with props\",\r\n        props,\r\n        \"and jobs\",\r\n        jobs,\r\n      );\r\n      if (console.groupEnd) {\r\n        console.groupEnd();\r\n      }\r\n    }\r\n    return convertedValue;\r\n  };\r\n}\r\n\r\nexport function validateModel(jobs: ConversionJobs) {\r\n  return function validateState(value?: ?Object, props: Object) {\r\n    const immutableValue = fromJS(value);\r\n    const wholeValidation = jobs.reduceRight((red, job) => {\r\n      const outPath = job.out.split(\".\");\r\n      const fieldValue = immutableValue.getIn(outPath);\r\n      if (\r\n        outPath.length === 1 &&\r\n        outPath[0] === \"\" &&\r\n        typeof job.validate === \"function\"\r\n      )\r\n        throw new Error(\r\n          \"You can't use validation if you don't have any out, either in the current node or a parent one. At \" +\r\n            job.in,\r\n        );\r\n      const validation =\r\n        typeof job.validate === \"function\"\r\n          ? job.validate(fieldValue, props)\r\n          : true;\r\n      if (\r\n        validation === true ||\r\n        validation === null ||\r\n        validation === undefined\r\n      ) {\r\n        return red;\r\n      } else {\r\n        return (typeof red === \"object\" ? red : Map()).setIn(\r\n          outPath,\r\n          validation,\r\n        );\r\n      }\r\n    }, true);\r\n\r\n    if (typeof wholeValidation === \"object\") return wholeValidation.toJS();\r\n    else return wholeValidation;\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/FormModel.js"],"sourceRoot":""}